generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model news_main {
  news_se      Int      @id @default(autoincrement())
  title_ct     String   @db.VarChar(500)
  url_lk       String   @unique(length: 255) @db.VarChar(1000)
  image_lk     String?  @db.VarChar(1000)
  summary_ct   String?  @db.Text
  category_nm  String?  @db.VarChar(100)
  published_dt DateTime
  crawled_dt   DateTime @default(now())
  updated_dt   DateTime @default(now()) @updatedAt

  @@index([published_dt])
  @@index([category_nm])
  @@index([crawled_dt])
}

model news_detail {
  news_detail_se Int      @id @default(autoincrement())
  news_se        Int      @unique
  content_ct     String   @db.LongText
  author_nm      String?  @db.VarChar(100)
  source_nm      String?  @db.VarChar(100)
  tags_ct        String?  @db.Text
  view_va        Int?     @default(0)
  like_va        Int?     @default(0)
  comment_va     Int?     @default(0)
  reg_dt         DateTime @default(now())
  updated_dt     DateTime @default(now()) @updatedAt

  @@index([author_nm])
  @@index([source_nm])
}

model news_crawl_log {
  crawl_log_se Int       @id @default(autoincrement())
  status_cd    String    @db.VarChar(50)
  message_ct   String?   @db.Text
  item_va      Int?      @default(0)
  start_dt     DateTime  @default(now())
  end_dt       DateTime?
  duration_va  Int?

  @@index([start_dt], map: "crawl_log_start_dt_idx")
  @@index([status_cd], map: "crawl_log_status_cd_idx")
}
